# VHUB User Simulation (simulation1)

This folder contains several iterations of a Python-based simulation for modeling user behavior in an office environment. The simulation is built using `simpy` and uses `matplotlib` for visualization.

The core purpose of the simulation is to model users moving between different rooms, consuming coffee, and being influenced by an AI agent that provides recommendations based on their simulated physiological data (heart rate).

## Simulation Files

The folder contains several versions of the simulation script, each building upon the last. There are also output files from running the simulation.

*   `user_activity_log.csv`: A CSV file that logs all events during the simulation, such as user movements, coffee intake, and AI agent messages.
*   `user_activity_simulation.png`: A plot generated by `matplotlib` that visualizes the movement of users between rooms over the course of the simulation day.

### Simulation Script Evolution

Here is a detailed breakdown of each version of the Python script:

| File Name                         | Key Features & Changes                                                                                                                                                                                          | Notable Bugs & Regressions                                                                                                                                |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `v1_userSimulation.py`            | - **Baseline:** Simulates 5 users moving randomly between "Entrance", "Workplace", "Meeting Room", and "Coffee Area".<br>- Logs activity to CSV and generates a plot.                                              | - N/A                                                                                                                                                       |
| `v2_userWithHeartRate.py`         | - **Heart Rate:** Adds `heart_rate` and `sleep_pattern` to users.<br>- Users can now randomly consume coffee, which increases their heart rate.                                                                   | - N/A                                                                                                                                                       |
| `V3_userWithAISimulation.py`        | - **AI Agent:** Introduces an `AutonomousAgent` that monitors users after 2 PM.<br>- A `CoffeeMachine` class is added to display messages to users.                                                               | - **Typo:** `SIMULATION_END_TIME` is incorrectly set to 38 hours.<br>- **Bug:** `MESSAGE_THRESHOLD` is `2` but is compared against heart rate (e.g., `60-100`). |
| **`V3.1_userWithAISimulation.py`** | - **(Main Result):** This is the most feature-complete and stable version.<br>- **User Response:** Adds `respond_to_message` to the `User` class. Users can accept advice (drink water, lower heart rate) or ignore it.<br>- Fixes the `SIMULATION_END_TIME` typo. | - **Bug:** The `MESSAGE_THRESHOLD` logic bug persists.                                                                                                   |
| `v4_userWithAIProperEntrance.py`  | - **Entrance Logic:** Re-introduces the "Entrance" room and ensures users only start there and do not return.                                                                                                   | - **Regression:** Removes the `respond_to_message` logic from v3.1.                                                                                         |
| `v5_userWaterAndCoffee.py`        | - **Logic Shift:** Moves the user response logic from the `User` class into the `AutonomousAgent`. The agent now decides the user's response.                                                                   | - **Design Flaw:** The agent, not the user, determines the user's behavior.<br>- Water consumption is logged but does not decrease heart rate.                |
| `v6_userWithRules.py`             | - **Context-Aware:** Users only drink coffee or receive agent messages when they are physically in the "Coffee Area".                                                                                           | - Same flaws as v5.<br>- The `MESSAGE_THRESHOLD` bug persists.                                                                                             |
| `v7_adjustingBehaviour.py`        | - **New Method:** Adds a `drink_water` method to the `User` class to lower heart rate.                                                                                                                          | - **Broken:** The `drink_water` method is never actually called.<br>- The agent's monitoring logic is convoluted and buggy.<br>- Heart rate increases randomly outside the coffee area. |

## Conclusion

Based on the analysis, **`V3.1_userWithAISimulation.py`** is considered the main and most functional version of the simulation, as noted in the original `readme.md`. While it contains a logic bug for triggering messages, its overall design encapsulates the user's behavior within the `User` class, making it a more robust model than later versions.